{% extends "master.html" %}

{% block title %}
{{ title }}
{% endblock %}

{% block headStylesheet %}
<style>
    .animated {
        -webkit-animation-duration: 1s;
        animation-duration: 1s;
        -webkit-animation-fill-mode: both;
        animation-fill-mode: both;
    }

    .animated.faster {
        -webkit-animation-duration: 500ms;
        animation-duration: 500ms;
    }

    .fadeIn {
        -webkit-animation-name: fadeIn;
        animation-name: fadeIn;
    }

    .fadeOut {
        -webkit-animation-name: fadeOut;
        animation-name: fadeOut;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes fadeOut {
        from {
            opacity: 1;
        }

        to {
            opacity: 0;
        }
    }
</style>
{% endblock %}

{% block content %}
<main class="h-full overflow-y-auto">
    <div class="container px-6 mx-auto grid">
        <h2 class="my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200">
            {{ title }}
        </h2>

        <div class="w-full overflow-hidden rounded-lg">
            <div class="grid grid-cols-3 gap-6">
                {# product info #}
                <div class="w-full rounded-lg p-2">

                    <label for="product-name" class="block text-gray-700 text-sm font-bold mb-2 mt-6">Product
                        Name</label>
                    <input type="text" name="product-name" id="p-name" placeholder="Example Product"
                        class="appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight text-sm"
                        required>

                    <label for="product-sku" class="block text-gray-700 text-sm font-bold mb-2 mt-6">Product
                        SKU</label>
                    <input type="text" name="product-sku" id="p-sku" placeholder="PT001"
                        class="appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight text-sm"
                        required>
                    {# <p class="text-blue-400 hover:text-blue-500">slug:<span id="dump-slug"></span></p> #}
                    <label for="product-desc" class="block text-gray-700 text-sm font-bold mb-2 mt-6">Product
                        Description</label>
                    <textarea name="product-desc" id="p-desc" cols="full" rows="10"
                        class="appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight text-sm"
                        placeholder="Example description"></textarea>

                    <label for="product-price" class="block text-gray-700 text-sm font-bold mb-2 mt-6">Product
                        Price</label>
                    <input type="text" name="product-proce" id="p-price" placeholder="xxx.xxx"
                        class="appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight text-sm"
                        required>
                </div>

                {# image info #}
                <div class="w-full rounded-lg p-2">
                    {# Choose Feature Image #}
                    <h3 class="block text-gray-700 text-sm font-bold mb-2 mt-6">Feature Image</h3>
                    <div id="open-gallery-modal"
                        class="w-full px-6 py-4 bg-gray-300 hover:bg-gray-400 rounded-lg text-center">Add Feature Image
                    </div>
                </div>
            </div>

            <button onclick="openModal()"
                class="bg-orange-400 hover:bg-orange-500 text-white font-semibold py-2 px-4 mt-6 rounded-lg">Add
                Product</button>
        </div>
    </div>
</main>

{# MODAL #}
<div class="modal fixed w-full h-100 inset-0 z-50 overflow-hidden flex justify-center items-center animated fadeIn faster"
    style="background: rgba(0,0,0,.7);">
    <div
        class="border border-teal-500 shadow-lg modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto">
        <div class="modal-content py-4 text-left px-6">
            <!--Title-->
            <div class="flex justify-between items-center pb-3">
                <p class="text-2xl font-bold">Header</p>
                <div class="modal-close cursor-pointer z-50">
                    <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                        viewBox="0 0 18 18">
                        <path
                            d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z">
                        </path>
                    </svg>
                </div>
            </div>
            <!--Body-->
            <div class="my-5">
                <p>Inliberali Persius Multi iustitia pronuntiaret expeteretur sanos didicisset laus angusti ferrentur
                    arbitrium arbitramur huic desiderent.?</p>
            </div>
            <!--Footer-->
            <div class="flex justify-end pt-2">
                <button
                    class="focus:outline-none modal-close px-4 bg-gray-400 p-3 rounded-lg text-black hover:bg-gray-300">Cancel</button>
                <button
                    class="focus:outline-none px-4 bg-teal-500 p-3 ml-3 rounded-lg text-white hover:bg-teal-400">Confirm</button>
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block footerScript %}
<script src="{{ base_url }}/public/js/product/add-new-product.js"></script>
<script>
    $("#p-name").on("change", function (e) {
        e.preventDefault();

        var pName = $("#p-name").val();

        // remove special list
        pName = removeVietnameseTones(pName);
        //to lowercase
        pName = pName.toLowerCase();
        //remove whitespace
        pName = pName.replace(/\s/g, "-");

        console.log(pName);

        // Open image modal
        // Using AJAX to load image

    })
</script>
{% endblock footerScript %}